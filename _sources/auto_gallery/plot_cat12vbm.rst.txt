
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_gallery/plot_cat12vbm.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_gallery_plot_cat12vbm.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_gallery_plot_cat12vbm.py:


CAT12 VBM pre-processing use case
=================================

Credit: A Grigis

Example on how to run the CAT12 VBM pre-processing using the brainprep
Singularity container.

.. GENERATED FROM PYTHON SOURCE LINES 11-17

.. code-block:: default

    # sphinx_gallery_thumbnail_path = '_static/carousel/cat12.png'

    import os
    import subprocess
    from brainrise.datasets import MRIToyDataset








.. GENERATED FROM PYTHON SOURCE LINES 18-19

Please tune these parameters.

.. GENERATED FROM PYTHON SOURCE LINES 19-39

.. code-block:: default


    DATADIR = "/tmp/brainprep-data"
    OUTDIR = "/tmp/brainprep-out"
    HOMEDIR = "/tmp/brainprep-home"
    SCRIPT = "cat12vbm"
    SIMG = "/volatile/nsap/brainprep/anat/brainprep-anat-latest.simg"

    for path in (DATADIR, OUTDIR, HOMEDIR):
        if not os.path.isdir(path):
            os.mkdir(path)
    dataset = MRIToyDataset(root=DATADIR)
    t1w_file = os.path.join(DATADIR, os.path.basename(MRIToyDataset.t1w_url))
    mask_file = os.path.join(DATADIR, os.path.basename(MRIToyDataset.mask_url))
    cmd = ["singularity", "run", "--bind", "{0}:/data".format(DATADIR),
           "--bind", "{0}:/out".format(OUTDIR), "--home", HOMEDIR, "--cleanenv",
           SIMG,
           "brainprep", SCRIPT,
           t1w_file.replace(DATADIR, "/data"),
           "/out"]








.. GENERATED FROM PYTHON SOURCE LINES 40-41

You can now execute this command.

.. GENERATED FROM PYTHON SOURCE LINES 41-44

.. code-block:: default


    print(" ".join(cmd))





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    singularity run --bind /tmp/brainprep-data:/data --bind /tmp/brainprep-out:/out --home /tmp/brainprep-home --cleanenv /volatile/nsap/brainprep/anat/brainprep-anat-latest.simg brainprep cat12vbm /data/T1W.nii.gz /out





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.332 seconds)

**Estimated memory usage:**  8 MB


.. _sphx_glr_download_auto_gallery_plot_cat12vbm.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: plot_cat12vbm.py <plot_cat12vbm.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: plot_cat12vbm.ipynb <plot_cat12vbm.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
